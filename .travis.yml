language: ruby
rvm: 2.4.1
env:
  global:
  - secure: LUl3jFrg7wfqi5zk1GuuXXA3Ig6GT2bdNMGEOsF0F+v/WrR7neKTiNlzNEzym4sqwQACfEKlvdZUQYz3dxAFLUF5j4SdEcqQQOv+yTXua481EEVIXXlFUScZVSWpln8J7hN2RpaG5Q9H7P+trh+2XJlkURqGUFQWNXJYdd37GhsIXb62M6Gm8lSg7V8inPG0ysuQBechxFSozEjy1Bl1OqNOGaB/GbNSg4F4ImgOcNK7Fw1ZRl7wfhEUzeukNJOD60ovJgShPjwh9/+XNATKONFTS5S6XwtbATw6Y24ScxTPBMgBrPEjxOHMCLxOf4ogx4KrDGrmvzua+iAO2zmfKqfiCtm6FAxTcsVLsqzgKd3lZk5Y+xKRMaWmjSoLzfwizUwsEOxh4NLv5M/dZzKy5WUiCNDrN5WWiAsmBXS9fB/P4VYAWCQ8UGZ/mIVJ6Cpn3oXtBj0GsqCImD7d+nJ6J2rky66zIgAtzmlqtr7Z3hB0ZIbnn/hozmp4lOvFUD8Zg+1asdy6+GaxPyBLhxIdFF9MiREDRBQtwGOmhK56nnTZ8lf9NDn/0+UUcBt9Pd77utbQIvpO4WOV25aP29LKwAv+EiMLzwEUbSdhLWWkUafQzJFZds8BK+dI3+HTidNP/sQbXM0Aqra3fgjKp9PpviaWh9lsoAzbA2YyG8dvR7k=
  - secure: ESUYIS+HLMtom8UjtJ6FCmrmOYVq1eCKO/AiqJt9WB+MtavEopxsGoXdVI6g0i6TTHMZQt7sz+U3EVj7w0ijjKnmoGmVvPfqz6kgQ+X5GRQFCEL53T3t38DEDBhpUTNDUbFK9kzSgV3A/8Sjrifm7AcpxoYfTXYGX9aoP3IOCN74t8Xp07LjDLxrxVfO3QV4Yp/BYHDUdnpJ0JpzSQEMLKmp2mb7wJRHmOnVfNBfxUXWHneFC8O1kzjIf6VoKxe8ggQTaAgXNnbfpPy/stL9Xg35NX0J7XUhSE23XDTK/GQB06syJHmWdfWQJDbp2E0AvRPNMstz9iD39zHGjCF1UpHvzELz+biz6WCgEbpXMSlQ7OoxHG0p+UHHId6LIshqoCbKMrQ2IKGKVs0xgBZVhR2cv8NuVzI2ISabRUYGNBeHmQJtZQehpX39dUGDuVq34Ht6UwceBobjfFZ/5q80H6qF8ceYWY9kqeS/ciKNfDtKPR4irWqSK4/UdmloZNiT5/RpGHgadnQ6kcNI+wU9/qwLUDxdq9Rk8AVbCiNT6oeYviuctZ7a39uIKEZesCITR45KFdUiHmlM+9p6sHl3a+wy/0ISq7VpgzVhfcFRn050dDhGxwo2AyZmoIqADTPfOrIbwvwk90waQTuj3mo90jKMHt2W5Hdtp3fllv3kVIU=
install: gem install jekyll:3.6.2 cf-s3-invalidator
script: jekyll build
deploy:
  provider: s3
  access_key_id: AKIAJ4RQKULZGZW6W6ZQ
  secret_access_key:
    secure: aFC9JYMj2CPR5CY1SSjR2m6wfXL01Myzz9pfAaagGp2ZNVjd5HMMKnAl9ocujcr8Ho8Vd98UljLFiC+h97yzd674A78FvrW5km4Fl8bTSdUQq+0H6z284YY5ePiC4Bh5YXpchxGVO6EmUTpIfxkVf0DZLwdPabO6+tH0GYo9ihk2r0sWyybuG96imYXh+B64tTJXSqB6a//ImyttQ9bMbUvsZ1GJoHEr7IgP3Yv23noXDiqhP5GmKn75R/Vu5P3gLj5sIf3iYk6RJpTlyBdbaoaRMx4v+juB2qsBujpz6JkS6OTIxWjHuxvSc3j0VoTg8yFwMOp2gnh3MLH2CPDfnaawjhUByzWffkvnGRux/cZRTwxavKkRDG9nFu8GhO9jDAeRbc9eRG1hYOoMdcZQnNEMpOgEdA6ayYJQIwnMPnWiU88fHoCnKyU242XD0NI8zYnCpuTIiEUNL/vKwy214Z2yC8CQ7Fb9iwLSioql97TheaQCveEmpL4tmlkpRWx9Fi+tel4b4iPRKlgr1nYxT85W0Xn1mkLTRAZJiEF1fvuPV2LgUVI5jv0K8NuGIeaHgpBfR44Yx3KNnQqC0JlCDAfwSpQSKwSnm8FRdn4IhantA9ag8FNimnqD8itYi1x+o1OI+J71L90DipeRO8gXKBACavncT7ve+1169yKyJ3o=
  bucket: jameshale.net
  on:
    branch: master
  local_dir: "./_site"
  skip_cleanup: true
  after_deploy:
    - "curl -X DELETE \"https://api.cloudflare.com/client/v4/zones/${CF_ZONEID_JAMESHALENET}/purge_cache\" -H \"X-Auth-Email: ${CF_EMAIL}\" -H \"X-Auth-Key: ${CF_API_KEY}\" -H \"Content-Type: application/json\" --data '{"purge_everything":true}'"
notifications:
  slack:
    rooms:
      secure: K93eIEhcJg1Rt5Rr9+wfaxwd7aajfpWNHy+s1FvG5xzsBpABQK0HQ45nu6FyMZlXixzKMIjVYECSJA8IHTuuYkK9Xh9I53dtkrihom2WQKHPP5Ick7r+1MIgFC1KdRLEEoDj5T+rtmk2UQMgQdJGH77GmY7+aKC5wS5oSZ9ukwpr03/6sRehTDRVv4rtz4wgRmgkcIAtfiZTclM4WRS2sDwpFM8NTTJqqWGAvM8sldwXlk20tubbL9aA3DajNiJ+nlD6gMsvljRZGPHFCLFrUAERxntF68HIaJwJbsvQqikKFdci82n8fChaMI3JYxBM6jqlGFsY/nDH7+6esIk/+wkZCSaDQCArpjBW5EpaCUSse8XI7ctNpiWn7zcFnZPTBLiBLY/dqv3HZ/FxMwng8U9tmqJFsKCXsm7pZQ6IO2MjRbl8e0WSS0kUWFPHcqJ3tbZrpOy9okYNZ1yokW3eREuVYVIuvZXb0U3Ohcs5a8r/WhccJkC0ML016R2VR1w6iJx8CtzY7Jrs0VWhZpzqqfff1F9scXXgbTtByXxfFHwBIEIRyRW1PZWVf0rycwkvf8/KrH5sGHabV05v5lotu6eBUYELVUsuNukh2Ur76Gg2vbOE4gaVKTUKirgPFyQ7rIJR6w+YCU1NhWyzflm0NGP9RkQN00jrWPudhmZdDHw=
